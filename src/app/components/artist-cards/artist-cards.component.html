<div class="container">
  <div class="row">
    <div class="col-3 col-md-6"><h3>ARTISTS</h3></div>
    <div class="offset-2 offset-md-2"></div>
    <div class="col-7 col-md-4">
      <div class="row">
        <div class="col-10 col-md-11">
          <input
            *ngIf="showBar"
            id="searchBar"
            type="text"
            class="form-control"
            placeholder="Search Artists"
            (keyup)="updateSearch()"
          />
        </div>
        <div class="col-2 col-md-1" style="padding: 0;">
          <a
            id="searchButton"
            class="btn"
            style="padding-left: 0; cursor: pointer;"
            (click)="showSearchBar(); toggleIcon()"
          >
            <i
              *ngIf="!flipButton"
              class="fa fa-search"
              style="font-size: 20px; color: #343a40"
            >
            </i>
            <i
              *ngIf="flipButton"
              class="fa fa-times"
              style="font-size: 20px; color: #343a40"
            >
            </i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<br />
<div *ngIf="searchResults">
  <div class="container">
    <div class="horiz-scroll">
      <div class="card" *ngFor="let artist of searchResults">
        <img class="card-img-top" 
          src="../../../assets/img/{{ artist.profile_picture }}" 
          style="width: 286px; height: 180px;" 
          alt="{{ artist.name }}" />
        <div class="card-body">
          <h5 *ngIf="artist.name" class="card-title">{{ artist.name }}</h5>
          <h6 *ngIf="artist.type" class="card-subtitle mb-2 text-muted">
            {{ artist.type }}
          </h6>
          <p *ngIf="artist.description" class="card-text">
            {{ artist.description }}
          </p>
          <i
            *ngIf="artist.spotify"
            class="fa fa-spotify"
            data-toggle="modal"
            data-target="#spotifyModal"
            (click)="openSpotifyModal(artist.spotify)"
          >
            &nbsp;
          </i>
          <a *ngIf="artist.apple" href="{{ artist.apple }}" target="_blank">
            <i class="fa fa-apple"> &nbsp; </i>
          </a>
          <a
            *ngIf="artist.facebook"
            href="{{ artist.facebook }}"
            target="_blank"
          >
            <i class="fa fa-facebook-official"> &nbsp; </i>
          </a>
          <a *ngIf="artist.twitter" href="{{ artist.twitter }}" target="_blank">
            <i class="fa fa-twitter"> &nbsp; </i>
          </a>
          <a
            *ngIf="artist.instagram"
            href="{{ artist.instagram }}"
            target="_blank"
          >
            <i class="fa fa-instagram"> &nbsp; </i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="!searchResults">
  <div class="container">
    <span
      class="spinner-border spinner-border-sm"
      role="status"
      aria-hidden="true"
    ></span>
    Loading...
  </div>
</div>

<div *ngIf="searchResults && searchResults.length === 0">
  <div class="container">
    There are no artists that matched your search...
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="spotifyModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="spotifyModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <iframe
          [src]="url"
          width="100%"
          height="380"
          frameborder="0"
          allowtransparency="true"
          allow="encrypted-media"
        ></iframe>
      </div>
    </div>
  </div>
</div>
